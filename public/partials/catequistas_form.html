<div id="page-wrapper">
    <div class="row">
        <div class="col-lg-12">
            <h3>Cadastro de Catequista</h3>
            <ol class="breadcrumb">
                <li><a href="#/"><i class="fa fa-home"></i> Início</a></li>
                <li><a href="#/catequese"><i class="fa fa-users"></i> Catequese</a></li>
                <li><a href="#/catequese/catequistas"><i class="fa fa-user"></i> Catequistas</a></li>
                <li class="active"> Editar</li>
            </ol>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <form novalidate name="formulario" role="form" ng-submit="submeterForm()">
                <div class="row">
                    <div class="col-lg-12">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                                Dados Pessoais
                            </div>
                            <div class="panel-body" ng-controller="PessoasListController">
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="form-group" ng-class="{ 'has-error' : formulario.pessoa.$invalid && !formulario.pessoa.$pristine && formulario.$submitted }">
                                            <div class="input-group">
                                                
                                                <select name="pessoa" class="form-control" required
                                                        ng-model="catequista.pessoa" ng-options="pessoa as pessoa.nome for pessoa in pessoas track by pessoa.id">
                                                    <option value="">Selecione</option>
                                                </select>
                                                </select>
                                                <span class="input-group-btn">
                                                    <a href="#/pessoas/new" class="btn btn-primary" type="button">
                                                        Novo
                                                    </a>
                                                </span>
                                            </div>
                                            <span class="label list-group-item-danger" ng-show="formulario.$submitted && formulario.pessoa.$error.required">
                                                Este campo é obrigatório
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label>CPF</label>
                                            <input type="cpf" class="form-control" name="cpf" ng-model="catequista.pessoa.cpf" disabled>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label>Email</label>
                                            <input type="email" class="form-control" name="email" ng-model="catequista.pessoa.email" disabled>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="form-group">
                                            <label>Telefone</label>
                                            <input type="text" class="form-control" name="telefone1" ng-model="catequista.pessoa.telefone1" disabled>
                                        </div>
                                    </div>                      
                                </div>
                            </div>
                        </div> <!-- FIM PANNEL PESSOA -->
                        <div class="row">
                            <div class="col-lg-6">
                                <div class="form-group" ng-controller="ComunidadesListController" ng-class="{ 'has-error' : formulario.comunidade.$invalid && !formulario.comunidade.$pristine && formulario.$submitted }">
                                    <label>Comunidade de Atuação</label>
                                    <select name="comunidade" class="form-control" required
                                            ng-model="catequista.comunidadeId" ng-options="comunidade.id as comunidade.nome for comunidade in comunidades">
                                        <option value="">Selecione</option>
                                    </select>
                                    <span class="label list-group-item-danger" ng-show="formulario.$submitted && formulario.comunidade.$error.required">
                                        Este campo é obrigatório
                                    </span>
                                </div>
                            </div>
                            <div class="col-lg-4">
                                <div class="form-group" ng-class="{ 'has-error' : formulario.dataInicio.$invalid && !formulario.dataInicio.$pristine && formulario.$submitted }">
                                    <label>Data de Início da Atuação</label>
                                    <input type="text" name="dataInicio" ui-mask="99/99/9999" model-view-value="true" 
                                            class="form-control" ng-model="catequista.dataInicio" pattern="^([012][0-9]|[3][01])\/(0[1-9]|1[0-2])\/[12][0-9]{3}$">
                                    <span class="label list-group-item-danger" ng-show="formulario.$submitted && formulario.dataInicio.$error.pattern">
                                        A data informada é inválida
                                    </span>
                                </div>
                            </div>
                            <div class="col-lg-2">
                                <div class="form-group" ng-class="{ 'has-error' : formulario.status.$invalid && !formulario.status.$pristine && formulario.$submitted }">
                                    <label>Status</label>
                                    <select name="status" class="form-control" ng-model="catequista.status" required>
                                        <option value="">Selecione</option>
                                        <option value="1">Ativo</option>
                                        <option value="0">Desativado</option>
                                    </select>
                                    <span class="label list-group-item-danger" ng-show="formulario.$submitted && formulario.status.$error.required">
                                        Este campo é obrigatório
                                    </span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="form-group">
                                    <label>Observações</label>
                                    <textarea type="text" class="form-control" rows="5" name="observacoes" ng-model="catequista.observacoes"></textarea>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <div ng-show="mensagem.length" class="alert alert-warning alert-custom">
                            <button type="button" class="close" data-ng-click="switchBool('mensagem')" >
                                <span aria-hidden="true">&times;</span>
                            </button>
                            {{mensagem}}
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <button type="submit" class="btn btn-primary">
                            Salvar
                        </button>
                        <a href="#/catequese/catequistas" class="btn btn-primary">Voltar</a>
                    </div>
                </div>  
            </form>
        </div>
    </div><!-- /.row -->
    
    
</div>